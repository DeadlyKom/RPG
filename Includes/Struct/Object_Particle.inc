
                ifndef _STRUCTURE_OBJECT_PARTICLE_
                define _STRUCTURE_OBJECT_PARTICLE_

                struct FParticleConst
Gravity         DB #00                                                          ; силы тяжести для частицы          [1 байт]
                                                                                ; влияет на велечину Height
AnimFrameNum    DB #00                                                          ; количество фреймов в анимации     [1 байт]
AnimDuration    DB #00                                                          ; продолжительности фрейма          [1 байт]
                ends

                struct FObjectParticle
; -----------------------------------------
;      7    6    5    4    3    2    1    0
;   +----+----+----+----+----+----+----+----+
;   | F1 | F0 | D  | T3 | T2 | T1 | T0 | V  |
;   +----+----+----+----+----+----+----+----+
;
;   F1,F0   [7,6]   - тип фракции
;                       00 - игрок
;                       01 - нейтральные/союзники
;                       10 - враг 1
;                       11 - враг 2
;   D       [5]     - динамичность объекта
;   Т4-T0   [4..1]  - тип объекта
;   V       [0]     - видимость объекта
; -----------------------------------------
Type            DB #00                                                          ; тип объекта                       [1 байт]
; -----------------------------------------
;   значение фиксированной точки 12.4 (знаковое)    [от -2^11 до +2^11 в пикселях]
;   2 байта на каждую ось X,Y
;
;   +----+----+----+----+----+----+----+----+   +----+----+----+----+----+----+----+----+
;   | 15 | 14 | 13 | 12 | 11 | 10 |  9 |  8 |   |  7 |  6 |  5 |  4 |  3 |  2 |  1 |  0 |
;   +----+----+----+----+----+----+----+----+   +----+----+----+----+----+----+----+----+
;   | I11| I10| I9 | I8 | I7 | I6 | I5 | I4 |   | I3 | I2 | I1 | I0 | F0 | F1 | F2 | F3 |
;   +----+----+----+----+----+----+----+----+   +----+----+----+----+----+----+----+----+
;
;   I11-I0  [15..4] - целая часть фиксированной точки 12.4
;   F0-F3   [3..0]  - дробная часть фиксированной точки 12.4
; -----------------------------------------
Position        FVector16                                                       ; позиция объекта на экране         [4 байта]
Subtype         DB #00                                                          ; подтип объекта                    [1 байт]
; -----------------------------------------
;   значение фиксированной точки 12.4 (знаковое)    [от -2^11 до +2^11 в пикселях]
;   2 байта на каждую ось X,Y
;
;   +----+----+----+----+----+----+----+----+   +----+----+----+----+----+----+----+----+
;   | 15 | 14 | 13 | 12 | 11 | 10 |  9 |  8 |   |  7 |  6 |  5 |  4 |  3 |  2 |  1 |  0 |
;   +----+----+----+----+----+----+----+----+   +----+----+----+----+----+----+----+----+
;   | I11| I10| I9 | I8 | I7 | I6 | I5 | I4 |   | I3 | I2 | I1 | I0 | F0 | F1 | F2 | F3 |
;   +----+----+----+----+----+----+----+----+   +----+----+----+----+----+----+----+----+
;
;   I11-I0  [15..4] - целая часть фиксированной точки 12.4
;   F0-F3   [3..0]  - дробная часть фиксированной точки 12.4
; -----------------------------------------
Velocity        FVector16                                                       ; векторная скорость                [4 байта]

Height          FValue                                                          ; высота частицы                    [2 байт]
                                                                                ; учитывается при расчёте позиции по вертикали,
                                                                                ; позволяя управлять сортировкой
Gravity         DB #00                                                          ; силы тяжести для частицы          [1 байт]
                                                                                ; влияет на велечину Height
AnimDuration    DB #00                                                          ; продолжительности фрейма          [1 байт]
; -----------------------------------------
;      7    6    5    4    3    2    1    0
;   +----+----+----+----+----+----+----+----+
;   | A4 | A3 | A2 | A1 | A0 | .. | .. | .. |
;   +----+----+----+----+----+----+----+----+
;
;   A4-A0   [7..3]  - номер анимации
; -----------------------------------------
AnimFrame       DB #00                                                          ; отображаемый номер фрейма         [1 байт]
AnimCounter     DB #00                                                          ; счётчик продолжительности фрейма  [1 байт]

                ends

                endif ; ~_STRUCTURE_OBJECT_PARTICLE_
