
                ifndef _STRUCTURE_OBJECT_
                define _STRUCTURE_OBJECT_

                struct FObject
; -----------------------------------------
;      7    6    5    4    3    2    1    0
;   +----+----+----+----+----+----+----+----+
;   | F1 | F0 | T4 | T3 | T2 | T1 | T0 | .. |
;   +----+----+----+----+----+----+----+----+
;
;   F1,F0   [7,6]   - тип фракции
;                       00 - игрок
;                       01 - нейтральные/союзники
;                       10 - враг 1
;                       11 - враг 2
;   Т4-T0   [5..1]  - тип объекта
; -----------------------------------------
Type            DB #00                                                          ; тип объекта                       [1 байт]
; -----------------------------------------
;   значение фиксированной точки 12.4 (знаковое)    [от -2^11 до +2^11 в пикселях]
;   2 байта на каждую ось X,Y
;
;   +----+----+----+----+----+----+----+----+   +----+----+----+----+----+----+----+----+
;   | 15 | 14 | 13 | 12 | 11 | 10 |  9 |  8 |   |  7 |  6 |  5 |  4 |  3 |  2 |  1 |  0 |
;   +----+----+----+----+----+----+----+----+   +----+----+----+----+----+----+----+----+
;   | I11| I10| I9 | I8 | I7 | I6 | I5 | I4 |   | I3 | I2 | I1 | I0 | F0 | F1 | F2 | F3 |
;   +----+----+----+----+----+----+----+----+   +----+----+----+----+----+----+----+----+
;
;   I11-I0  [15..4] - целая часть фиксированной точки 12.4
;   F0-F3   [3..0]  - дробная часть фиксированной точки 12.4
; -----------------------------------------
Position        FLocation16                                                     ; позиция объекта                   [4 байта]
; -----------------------------------------
;      7    6    5    4    3    2    1    0
;   +----+----+----+----+----+----+----+----+
;   | .. | B3 | B2 | B1 | B0 | .. | .. | .. |
;   +----+----+----+----+----+----+----+----+
;
;   B3-B0   [6..3]  - направление
;                       0000 - 0.0°     right
;                       0001 - 22.5°
;                       0010 - 45.0°    up-right
;                       0011 - 67.5°
;                       0100 - 90.0°    up
;                       0101 - 112.5°
;                       0110 - 135.0°   up-left
;                       0111 - 157.5°
;                       1000 - 180.0°   left
;                       1001 - 202.5°
;                       1010 - 225.0°   down-left
;                       1011 - 247.0°
;                       1100 - 270.0°   down
;                       1101 - 292.5°
;                       1110 - 315.0°   down-right
;                       1111 - 337.5°
; -----------------------------------------
Direction       DB #00                                                          ; направление                       [1 байт]
; -----------------------------------------
;   значение фиксированной точки 12.4 (знаковое)    [от -2^11 до +2^11 в пикселях]
;   2 байта на каждую ось X,Y
;
;   +----+----+----+----+----+----+----+----+   +----+----+----+----+----+----+----+----+
;   | 15 | 14 | 13 | 12 | 11 | 10 |  9 |  8 |   |  7 |  6 |  5 |  4 |  3 |  2 |  1 |  0 |
;   +----+----+----+----+----+----+----+----+   +----+----+----+----+----+----+----+----+
;   | I11| I10| I9 | I8 | I7 | I6 | I5 | I4 |   | I3 | I2 | I1 | I0 | F0 | F1 | F2 | F3 |
;   +----+----+----+----+----+----+----+----+   +----+----+----+----+----+----+----+----+
;
;   I11-I0  [15..4] - целая часть фиксированной точки 12.4
;   F0-F3   [3..0]  - дробная часть фиксированной точки 12.4
; -----------------------------------------
Velocity        FLocation16                                                     ; векторная скорость                [4 байта]

                ends
OBJECT_SIZE     EQU 16                                                          ; размер структуры объекта
OBJECTS_NUM     EQU Size.Object / OBJECT_SIZE

                endif ; ~_STRUCTURE_UNIT_
