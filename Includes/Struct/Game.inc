
                ifndef _STRUCT_GAME_
                define _STRUCT_GAME_

                struct FGameState
; -----------------------------------------
;      7    6    5    4    3    2    1    0
;   +----+----+----+----+----+----+----+----+
;   | .. | .. | .. | .. | .. | .. | .. | FS |
;   +----+----+----+----+----+----+----+----+
;
;   FS      [0]     - флаг, рендер завершён
; -----------------------------------------
Render          FFlags                                                          ; флаги отрисовки                               [1 байт]
World           FFlags                                                          ; флаги отрисовки мира                          [1 байт]
Gameplay        FFlags                                                          ; флаги геймплея                                [1 байт]
; -----------------------------------------
;      7    6    5    4    3    2    1    0
;   +----+----+----+----+----+----+----+----+
;   | .. | .. | .. | .. | .. | .. | .. | BS |
;   +----+----+----+----+----+----+----+----+
;
;   BS      [0]     - флаг базового старта миссии
; -----------------------------------------
Hardware        FFlags                                                          ; флаги ограничения железа                      [1 байт]
; -----------------------------------------
;
;   +----+----+----+----+----+----+----+----+   +----+----+----+----+----+----+----+----+
;   | 15 | 14 | 13 | 12 | 11 | 10 |  9 |  8 |   |  7 |  6 |  5 |  4 |  3 |  2 |  1 |  0 |
;   +----+----+----+----+----+----+----+----+   +----+----+----+----+----+----+----+----+
;   | .. | .. | .. | .. | .. | .. | .. | .. |   | .. | .. | .. | M1 | M0 | CL | D1 | D1 |
;   +----+----+----+----+----+----+----+----+   +----+----+----+----+----+----+----+----+
;
;   M1,M0   [4,3]   - размер карты
;                       00 - размер карты "маленький"
;                       01 - размер карты "средний"
;                       10 - размер карты "большой"
;                       11 - отсутствует
;   CL      [2]     - климат
;                       0 - климат "умеренный"
;                       1 - климат "суровый"
;   D1,D0   [1,0]   - сложность игры
;                       00 - сложность игры "легко"
;                       01 - сложность игры "нормально"
;                       10 - сложность игры "кошмарно"
;                       11 - сложность игры "ужасно"
;
; -----------------------------------------
Setting         FWFlags                                                         ; флаги настройки игры                          [2 байта]
Objects         DB #00                                                          ; количество объектов в массиве                 [1 байт]
Region          DB #00                                                          ; количество регионов в массиве                 [1 байт]
Settlement      DB #00                                                          ; количество поселений в массиве                [1 байт]
ExecuteID       DB #00                                                          ; идентификатор запуска блока                   [1 байт]
CharacterID     DB #00                                                          ; ID отображаемого персонажа                    [1 байт]
; -----------------------------------------
;      7    6    5    4    3    2    1    0
;   +----+----+----+----+----+----+----+----+
;   | F1 | F0 | .. | .. | S3 | S2 | S1 | S0 |
;   +----+----+----+----+----+----+----+----+
;
;   F1,F0   [7,6]   - фрейм анимации персонажа
;   S3-S0   [3..0]  - тип состояния персонажа
; -----------------------------------------
CharacterState  DB #00                                                          ; состояние отображаемого персонажа             [1 байт]
MenuID          DB #00                                                          ; тип меню                                      [1 байт]
MenuFlags       DB #00                                                          ; флаги меню                                    [1 байт]
CursorID        DW #0000                                                        ; ID пункта (текущий/выбранный)                 [3 байт]
                DB #00
Cursor          DB #00                                                          ; позиция курсора (в режиме выбора)             [1 байт]
Cursor.Num      DB #00                                                          ; количество позиций выбора                     [1 байт]
Cursor.Old      DB #00                                                          ; прошлая позиция курсора (в режиме выбора)     [1 байт]
Cursor.Top      DB #00                                                          ; верхняя граница                               [1 байт]
                                                                                ; если не нужна выставить в 0
Cursor.Avail    DB #00                                                          ; доступная высота                              [1 байт]
                                                                                ; если не нужна выставить в 255
Cursor.Coord    FLocation                                                       ; позиция курсора H - y, L - x                  [2 байт]
                                                                                ; координаты в пикселях
Cursor.Dir      DB #00                                                          ; направление движения (для инпута)             [1 байт]
                                                                                ;   #01 - вперёд (+1 позиция)
                                                                                ;   #FF - назда (-1 позиция)
                ends

                endif ; ~_STRUCT_GAME_
